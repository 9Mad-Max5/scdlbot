os: linux
language: python
python:
- 3.5
- 3.6
- 3.7
- 3.8

install:
- pip install --upgrade pip
- pip install --upgrade poetry tox tox-travis
script: tox
deploy:
  provider: script
  script:
# POETRY_PYPI_TOKEN_PYPI is already set in Travis CI environment variables
  - poetry publish --build
  on:
    tags: true
    python: 3.8
